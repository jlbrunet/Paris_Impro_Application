<div class="container background-absence-decla pb-100px">
  <%= render partial:'/shared/navbar', locals: {title: "Déclarer une absence"} %>

  <div class="absence-jour">
    <h2>Quel jour seras-tu absent.e ?</h2>
  </div>

  <div class="calendar-abs" data-controller="confirmation">

    <%= simple_form_for(@lesson, url: absences_path, html: {data: {controller: 'flatpickr', confirmation_target: 'form'}}) do |f| %>
      <%= f.input :occurs_on, as: :string, label: false, input_html: { class: 'd-none', data: { flatpickr_target: 'input', flatpickr_available_dates: @available_dates, confirmation_target: 'input', action: 'change->confirmation#validate' } } %>
      <%= f.button :button, 'Valider', class: 'btn btn-red btn-valid-abs', data: { action: 'click->confirmation#confirmAbsence', confirmation_target: "button" }, disabled: true %>
    <% end %>

    <%= render partial:'/shared/modale_absence_rattrapage', locals: {sentence: "Après avoir confirmé ton absence, celle-ci sera définitive"} %>

  </div>
</div>
